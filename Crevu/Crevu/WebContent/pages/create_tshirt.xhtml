<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition template="../WEB-INF/template/basePage.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:define name="header">
		<link rel="stylesheet" type="text/css" href="/Crevu/resources/css/bootstrap-tagmanager.css" />
        
		<link rel="stylesheet" type="text/css" href="/Crevu/resources/css/style_box.css" />
        <link rel="stylesheet" type="text/css" href="/Crevu/resources/js/jquery.pnotify.default.css" />
        <script type="text/javascript" src="/Crevu/resources/js/preview.js"></script>  
		
    </ui:define>
	
	<ui:define name="content">
	    <div class="container-fluid" style="width: 80%;margin:auto;">
            <!-- start: Content -->
            <div id="content">
                <!--[if lte IE 9]>
                <p style="font-size: 20px; padding: 50px;">Sorry, this only works in modern browsers...</p>
                <![endif]-->
                <!-- start: Main Menu -->

                <!-- end: Main Menu -->
                <div class="cn-container">
                    <div class="cn-slide" id="slide-main">

                        <h2 class="create"><a href="showcase.html"><i class="fa-icon-arrow-left" style="margin-left: 0px;"></i></a>Create</h2>
                        <div class="left-div">
                            <div class="element" id="_side_menu_main">
                            	<ui:include src="/WEB-INF/views/side_menu_main.xhtml"></ui:include>
                            </div>
                            <!-- <div id="_side_boxes"></div> --><!-- tenere tanti frammenti e usare qui un c:if per gestire quale vedere -->
                            <div id="_side_boxes">
                            	<ui:include src="/WEB-INF/views/side_menu_boxed.xhtml"></ui:include>
                            </div>
                        </div>
                        <div class="right-div">

<h:form id="status" name="status" prependId="false"><!-- SOLO PER PROVARE: prependId=false; perchè poi non si può usare ajax con questo settato! -->
                                            
                            <div class="element">

                                <table>
                                    <tr>
                                        <td class="box-header" colspan="2">
                                            <span class="fa-icon-cogs"></span><span class="break"></span>T-Shirt Informations
                                        </td>
                                    </tr>
                                    <tr class="box-internal">
                                        <td>
                                            <div style="width: 30%;float: left;padding-right: 5px;" id="img_box">
                                                <div id="_preview_t-shirt" style="width: 200px;height:150px;vertical-align: top;border-radius: 5px;">
                                                    
                                                </div>
                                            </div>
                                            <div style="width: 60%;float: left;">
                                                <h:inputHidden name="status_type" id="status_type" value="#{tshirtController.statusType}" />
                                                <h:inputText name="text" id="text" value="#{tshirtController.text}" placeholder="66 chars text" style="width: 100%;" />

                                                <div class="form-inline">
                                                    <h:inputHidden name="hidden-tags" id="hidden-tags" value="#{tshirtController.hiddenTags}" />
                                                    <h:inputText name="tags" id="tags" value="#{tshirtController.tags}" placeholder="tags [max 15]" styleClass="tagManager" style="width: 180px;"/>
                                                </div>
											</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div style="float:right; width: 100%;">
                                                <div class="box-header">
                                                    <div class="box-icon">
                                                        <a class="btn-minimize" href="#" style="color:blue;"><i class="fa-icon-facebook-sign"></i></a>
                                                    </div>
                                                </div>
                                                <div class="box-content">
                                                    <div id="fb_statuses">

                                                    </div>
                                                </div>
                                                <div class="box-header">
                                                    <div class="box-icon">
                                                        <a class="btn-minimize" style="color:aqua;" href="#"><i class="fa-icon-twitter-sign"></i></a>
                                                    </div></div>
                                                <div class="box-content">
                                                    <div id="tw_statuses">Twitter statuses to select</div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>  
                                </table>
                            </div>
                            <div class="element">
                                <table>
                                    <th class="box-header">
                                        <span class="fa-icon-globe"></span><span class="break"></span>T-Shirt Initial Place
                                    </th>
                                    <tr>
                                        <td>

                                            <h:inputText id="location" value="type a place here" />

                                            <div id="map_canvas" style="margin:auto;width:90%; height:400px;"></div>

                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <div class="element">
                                <div style="text-align: right;">
                                <!-- CACCHIO! qui da vedere come tratta due action in una form, mi pare si possa -->
                                    <h:commandButton styleClass="btn btn-info" action="#{tshirtController.saveToLab}" 
                                    	value="Save it to the Lab">
											                                    	
                                    	<!-- <i class="fa-icon-beaker"></i>Save it to the Lab --><!-- ci vuole tutto in un css, la table sfalsa tutto -->
                                    </h:commandButton>
                                    <h:commandButton styleClass="btn btn-danger" action="#{tshirtController.goLive}"><table><tr><td><i class="fa-icon-globe"></i></td><td>Go Live</td></tr></table></h:commandButton>
                                </div>
                            </div>   
</h:form>
                        </div>
                    </div>
                    <!-- end: Content -->
                </div><!--/#content.span10-->

            </div><!--/.fluid-container-->	   
        </div>
	</ui:define>
	
	<ui:define name="scripts">
		<script type="text/javascript" src="/Crevu/resources/js/backstretch.js"></script>
        
		<script type="text/javascript">
            //fixed bg img
            $(document).ready(function() { $.backstretch("/Crevu/resources/images/bg.jpg"); }); 
        </script>
		
		<script type="text/javascript" src="/Crevu/resources/js/sha1.js"></script>

        <script type="text/javascript" src="/Crevu/resources/js/codebird.js"></script>

        <script type="text/javascript" src="/Crevu/resources/js/create_t-shirt.js"></script>

        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

        <!-- 
        jquery.autocomplete.js requires a minor modification for geo_autocomplete to work
        the following script includes the required mod
        -->
        <script type="text/javascript" src="js/lib/jquery.autocomplete_geomod.js"></script>

        <script type="text/javascript" src="js/geo_autocomplete.js"></script>

        <script type="text/javascript">
            $().ready(function() {

                var latlng = new google.maps.LatLng(8.397, 45.644);
                var myOptions = {
                    zoom: 1,
                    center: latlng,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

                // use all the autocomplete options as documented at http://docs.jquery.com/Plugins/Autocomplete
                /* additional geo_autocomplete options:
                        mapkey : 'ABQ...' (required for Static Maps thumbnails, obtain a key for your site from http://code.google.com/apis/maps/signup.html)
                        mapwidth : 100
                        mapheight : 100
                        maptype : 'terrain' (see http://code.google.com/apis/maps/documentation/staticmaps/#MapTypes)
                        mapsensor : true or false
                 */
                $('#location').geo_autocomplete(new google.maps.Geocoder, {
                    mapkey: 'ABQIAAAAbnvDoAoYOSW2iqoXiGTpYBTIx7cuHpcaq3fYV4NM0BaZl8OxDxS9pQpgJkMv0RxjVl6cDGhDNERjaQ', 
                    selectFirst: false,
                    minChars: 3,
                    cacheLength: 50,
                    width: 300,
                    scroll: true,
                    scrollHeight: 330
                }).result(function(_event, _data) {
                    if (_data) map.fitBounds(_data.geometry.viewport);
                });

            });
        </script>
        
        <script type="text/javascript" src="/Crevu/resources/js/bootstrap-tagmanager.js"></script>
        <script type="text/javascript">
            jQuery(".tagManager").tagsManager();
        </script>
		
	</ui:define>
	
</ui:composition>
